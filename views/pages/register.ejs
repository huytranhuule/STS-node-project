<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/head'); %>
</head>

<body class="container">
    <h1>Sign Up</h1>
    <main>
        <form name="form1" action="/api/user/register" method="POST" onsubmit="return ValidateEmail(document.form1.email)">
            <div class="form-group">
                <label>Username*</label>
                <input class="form-control" type="text" placeholder="Username" name="username" required>
                <% if (typeof error !== 'undefined') { %>
                    <div class="alert-danger"><%= error %></div>
                <% } %>
            </div>
                <label>Password*</label>
                <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password"
                    name="password" required>
            </div>
            <div class="form-group">
                <label>Email*</label>
                <input type="text" class="form-control" id="email" placeholder="john@smith.com" name="email" required>
            </div>
            <div class="form-group">
                <label>First name*</label>
                <input class="form-control" type="text" placeholder="First name" name="firstName" required>
            </div>
            <div class="form-group">
                <label>Last name*</label>
                <input class="form-control" type="text" placeholder="Last name" name="lastName" required>
            </div>
            <div class="form-group">
                <label>Date of birth*</label>
                <input class="form-control" type="date" placeholder="Date of birth" name="dateOfBirth" required>
            </div>
            <button type="submit" class="btn btn-primary" onclick="ValidateEmail(document.form1.email)">Submit</button>
        </form>

        <script>
            function ValidateEmail(inputText) {
                var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;

                if (inputText.value.match(mailformat)) {
                    document.form1.email.focus();
                    return true;
                }
                else {
                    alert("You have entered an invalid email address!");
                    document.form1.email.focus();
                    return false;
                }
                elseif()
            }
            
        </script>

        <div class="mt-2 text-center">
            Have an account?
            <a href="/login">Login</a>
        </div>
    </main>

</body>

</html>